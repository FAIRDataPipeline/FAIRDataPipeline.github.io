<!doctype html><html data-scroll=0 lang=en dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Provenance Report # In order to address the use case around being able to track the evidence to understand the reported results, the data registry has the capability to produce provenance reports for each of the data products.
Provenance is the documented history of processes in a digital object&rsquo;s lifecycle.
The provenance reports generated by the registry are based around the concepts of activities, agents and entities. For more information about these concepts see the PROV Ontology or PROV-O."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="Provenance Report"><meta property="og:description" content="Provenance Report # In order to address the use case around being able to track the evidence to understand the reported results, the data registry has the capability to produce provenance reports for each of the data products.
Provenance is the documented history of processes in a digital object&rsquo;s lifecycle.
The provenance reports generated by the registry are based around the concepts of activities, agents and entities. For more information about these concepts see the PROV Ontology or PROV-O."><meta property="og:type" content="article"><meta property="og:url" content="https://www.fairdatapipeline.org/docs/data_registry/prov_report/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-12-04T07:03:46+00:00"><title>Provenance Report | FAIRDataPipeline</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.min.78e0f2c3e0da3b6a0d761a0e01656154c8d89cc8742b7e517cbc86441aab779b.css integrity="sha256-eODyw+DaO2oNdhoOAWVhVMjYnMh0K35RfLyGRBqrd5s=" crossorigin=anonymous><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script defer type=text/javascript src=/lunr.min.js></script><script defer src=/en.fancy-search.min.7822baa6f0611ec360fb138b3e4a6423c206a7c1573dee1994308ad933184c6c.js integrity="sha256-eCK6pvBhHsNg+xOLPkpkI8IGp8FXPe4ZlDCK2TMYTGw="></script><script defer src=/scroll.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=custom-header><div class="custom-flex container flex"><div class=custom-left><div class=custom-brand><h2 class=custom-brand-text><a href=/><img src=/logo.jpg alt=Logo><span>FAIRDataPipeline</span></a></h2></div></div><div class=custom-search-container><div class=search-top><div class=search><div class=search-input-wrap><input type=text id=search-input class=search-input tabindex=0 placeholder="Search FAIRDataPipeline" aria-label="Search FAIRDataPipeline" autocomplete=off>
<label for=search-input class=search-label><div class=search-svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div></label></div><div id=search-results class=search-results></div></div></div></div></div></div><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><ul><li><a href=/docs/quick_start/>Quick Start</a><ul></ul></li><li><input type=checkbox id=section-c23a8426ae16a2e4b31af943be5a83ad class=toggle>
<label for=section-c23a8426ae16a2e4b31af943be5a83ad class="flex justify-between"><a href=/docs/cli/>FAIR CLI</a></label><ul><li><a href=/docs/cli/installation/>FAIR CLI Installation</a><ul></ul></li><li><a href=/docs/cli/cli_commands/>FAIR CLI Commands</a><ul></ul></li></ul></li><li><input type=checkbox id=section-5dfc13e48f718e798acbc17acf59aa69 class=toggle checked>
<label for=section-5dfc13e48f718e798acbc17acf59aa69 class="flex justify-between"><a href=/docs/data_registry/>FAIR Data Registry</a></label><ul><li><input type=checkbox id=section-d1950e6675ca179342643f05b0cd3a1e class=toggle>
<label for=section-d1950e6675ca179342643f05b0cd3a1e class="flex justify-between"><a href=/docs/data_registry/local_registry/>Local Registry</a></label><ul><li><input type=checkbox id=section-2d0d992296ec1e609d2a1b524d0a4b4e class=toggle>
<label for=section-2d0d992296ec1e609d2a1b524d0a4b4e class="flex justify-between"><a href=/docs/data_registry/local_registry/installation/>Installation</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-13093dc293a5e4fc7f97da54f629aac7 class=toggle>
<label for=section-13093dc293a5e4fc7f97da54f629aac7 class="flex justify-between"><a href=/docs/data_registry/remote_registry/>Remote Registry</a></label><ul><li><a href=/docs/data_registry/remote_registry/installation/>Installation</a><ul></ul></li><li><a href=https://data.fairdatapipeline.org target=_blank rel=noopener>Example Remote Registry</a><ul></ul></li></ul></li><li><a href=/docs/data_registry/schema/>Schema Description</a></li><li><a href=/docs/data_registry/prov_report/ class=active>Provenance Report</a></li><li><a href=/docs/data_registry/ro_crate/>RO Crate Objects</a></li></ul></li><li><input type=checkbox id=section-bf7b3283e3790c00c8caaa140299052b class=toggle>
<label for=section-bf7b3283e3790c00c8caaa140299052b class="flex justify-between"><a href=/docs/api/>Modelling APIs</a></label><ul><li><a href=/docs/api/r/>R</a><ul></ul></li><li><a href=/docs/api/julia/>Julia</a><ul></ul></li><li><a href=/docs/api/python/>Python</a><ul></ul></li><li><input type=checkbox id=section-3752dbeb9567711c46fb17da5ba1dc59 class=toggle>
<label for=section-3752dbeb9567711c46fb17da5ba1dc59 class="flex justify-between"><a href=/docs/api/java/>Java</a></label><ul><li><a href=/docs/api/java/coderun/>Coderun</a></li><li><a href=/docs/api/java/issues/>Issues</a></li><li><a href=/docs/api/java/parameters/>Parameters</a></li><li><a href=/docs/api/java/hdf5/>Hdf5</a></li><li><a href=/docs/api/java/run/>Run</a></li><li><a href=/docs/api/java/debug/>Debug</a></li></ul></li><li><a href=/docs/api/c/>C</a><ul></ul></li><li><a href=/docs/api/cpp/>C++</a><ul></ul></li><li><a href=/docs/api/fortran/>FORTRAN</a><ul></ul></li></ul></li><li><a href=/docs/jargon_buster/>Jargon buster</a><ul></ul></li><li><a href=/docs/repository_status/>Repository Status</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Provenance Report</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#provenance-report>Provenance Report</a><ul><li><a href=#query-parameters>Query parameters</a></li><li><a href=#prefixes>Prefixes</a></li><li><a href=#examples>Examples</a><ul><li><a href=#basic-example>Basic Example</a></li><li><a href=#an-example-of-a-basic-provenance-diagram>An example of a basic provenance diagram</a></li><li><a href=#a-data-product-generated-from-a-code-run>A Data Product Generated from a Code Run</a></li><li><a href=#an-example-of-a-provenance-diagram>An example of a provenance diagram</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=provenance-report>Provenance Report
<a class=anchor href=#provenance-report>#</a></h1><p>In order to address the
<a href=/docs/use_cases/#use-case-12-actor-wants-to-understand-provenance-of-reported-results>use case</a> around being able to track the evidence to understand the reported results, the data registry has the capability to produce provenance reports for each of the data products.</p><p>Provenance is the documented history of processes in a digital object&rsquo;s lifecycle.</p><p>The provenance reports generated by the registry are based around the concepts
of <code>activities</code>, <code>agents</code> and <code>entities</code>. For more information about these
concepts see the
<a href=https://www.w3.org/TR/prov-o/>PROV Ontology</a> or PROV-O.</p><p>Provenance reports are only available for <code>DataProducts</code> and can be accessed via
the RESTful API for example:</p><pre tabindex=0><code>https://data.fairdatapipeline.org/api/prov-report/3/
</code></pre><h2 id=query-parameters>Query parameters
<a class=anchor href=#query-parameters>#</a></h2><ul><li><p>format</p><ul><li><strong>api</strong>: a html representation of the report with media type of <code>text/html</code></li><li><strong>json</strong>: a json representation of the report with media type of
<code>application/json</code></li><li><strong>json-ld</strong>: a json-ld representation of the report with media type of
<code>application/ld+json</code></li><li><strong>jpg</strong>: an image representing the provenance with media type of
<code>image/jpeg</code></li><li><strong>svg</strong>: an interactive image representing the provenance with media type of
<code>image/svg+xml</code></li><li><strong>xml</strong>: an XML representation of the report with media type of <code>text/xml</code></li><li><strong>provn</strong>: a PROV-N representation of the report with media type of
<code>text/provenance-notation</code></li></ul></li><li><p>aspect_ratio</p><ul><li><strong>&lt;float></strong>: a float used to define the ratio for the <code>JPEG</code> and
<code>SVG</code> images. The default is 0.71, which is equivalent to A4 landscape.</li></ul></li><li><p>attributes</p><ul><li><strong>True</strong> (default): show the attributes associated with an object on the image</li><li><strong>False</strong>: hide the attributes associated with an object on the image</li></ul></li><li><p>dpi</p><ul><li><strong>&lt;float></strong>: a float used to define the dpi for the <code>JPEG</code> and <code>SVG</code> images</li></ul></li><li><p>depth</p><ul><li><strong>&lt;integer></strong>: an integer used to determine how many levels of code runs to include,
the default is 1</li></ul></li></ul><h2 id=prefixes>Prefixes
<a class=anchor href=#prefixes>#</a></h2><p>All <code>activities</code>, <code>agents</code> and <code>entities</code> have a URI. Prefixes are used to
represent the base component of these URIs. Two different prefixes are used,
<code>reg</code> and <code>lreg</code>, where <code>reg</code> is used as the prefix for the central registry and
<code>lreg</code> is used to refer to a local registry. Hence dependent on the location of
the object you may see:</p><pre tabindex=0><code>reg:api/data_product/1
</code></pre><p>or</p><pre tabindex=0><code>lreg:api/data_product/1
</code></pre><p>Using <code>provn</code> as an example you may see a section similar to:</p><pre tabindex=0><code>  prefix lreg &lt;http://192.168.20.10:8000/&gt;
  prefix fair &lt;https://data.fairdatapipeline.org/vocab/#&gt;
  prefix dcat &lt;http://www.w3.org/ns/dcat#&gt;
  prefix dcmitype &lt;http://purl.org/dc/dcmitype/&gt;
  prefix dcterms &lt;http://purl.org/dc/terms/&gt;
  prefix foaf &lt;http://xmlns.com/foaf/spec/#&gt;
</code></pre><h2 id=examples>Examples
<a class=anchor href=#examples>#</a></h2><h3 id=basic-example>Basic Example
<a class=anchor href=#basic-example>#</a></h3><p>For a simple case the report will contain two entities, a <code>DataProduct</code> and
an <code>ExternalObject</code>, where the <code>DataProduct</code> is a <code>specializationOf</code> an
<code>ExternalObject</code>.</p><h3 id=an-example-of-a-basic-provenance-diagram>An example of a basic provenance diagram
<a class=anchor href=#an-example-of-a-basic-provenance-diagram>#</a></h3><p><img src=/docs/data_registry/prov_example_1.jpeg alt="Basic provenance diagram"></p><p>And this is an example of the XML that is produced:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;prov:document</span> <span class=na>xmlns:lreg=</span><span class=s>&#34;http://192.168.20.10:8000/&#34;</span> <span class=na>xmlns:fair=</span><span class=s>&#34;https://data.fairdatapipeline.org/vocab/#&#34;</span> <span class=na>xmlns:dcat=</span><span class=s>&#34;http://www.w3.org/ns/dcat#&#34;</span> <span class=na>xmlns:dcmitype=</span><span class=s>&#34;http://purl.org/dc/dcmitype/&#34;</span> <span class=na>xmlns:dcterms=</span><span class=s>&#34;http://purl.org/dc/terms/&#34;</span> <span class=na>xmlns:foaf=</span><span class=s>&#34;http://xmlns.com/foaf/spec/#&#34;</span> <span class=na>xmlns:prov=</span><span class=s>&#34;http://www.w3.org/ns/prov#&#34;</span> <span class=na>xmlns:xsd=</span><span class=s>&#34;http://www.w3.org/2001/XMLSchema&#34;</span> <span class=na>xmlns:xsi=</span><span class=s>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;prov:entity</span> <span class=na>prov:id=</span><span class=s>&#34;lreg:api/data_product/1&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:type</span> <span class=na>xsi:type=</span><span class=s>&#34;xsd:QName&#34;</span><span class=nt>&gt;</span>dcat:Dataset<span class=nt>&lt;/prov:type&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcat:hasVersion&gt;</span>0.20210915.0<span class=nt>&lt;/dcat:hasVersion&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcterms:description&gt;</span>Static parameters of the model<span class=nt>&lt;/dcterms:description&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcterms:format&gt;</span>Comma-Separated Values File<span class=nt>&lt;/dcterms:format&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcterms:modified</span> <span class=na>xsi:type=</span><span class=s>&#34;xsd:dateTime&#34;</span><span class=nt>&gt;</span>2021-09-15T14:16:42.899768+00:00<span class=nt>&lt;/dcterms:modified&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcterms:title&gt;</span>
</span></span><span class=line><span class=cl>            disease/sars_cov2/SEIRS_model/parameters/static_params
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/dcterms:title&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;fair:namespace&gt;</span>PSU<span class=nt>&lt;/fair:namespace&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:atLocation&gt;</span>
</span></span><span class=line><span class=cl>            file:///var/folders/0f/fj5r_1ws15x4jzgnm27h_y6h0000gr/T/tmpukqzlyig/data_store//PSU/disease/sars_cov2/SEIRS_model/parameters/static_params/0.20210915.0.csv
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/prov:atLocation&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/prov:entity&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;prov:person</span> <span class=na>prov:id=</span><span class=s>&#34;lreg:api/author/1&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;foaf:name&gt;</span>Interface Test<span class=nt>&lt;/foaf:name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/prov:person&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;prov:wasAttributedTo&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:entity</span> <span class=na>prov:ref=</span><span class=s>&#34;lreg:api/data_product/1&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:agent</span> <span class=na>prov:ref=</span><span class=s>&#34;lreg:api/author/1&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:role</span> <span class=na>xsi:type=</span><span class=s>&#34;xsd:QName&#34;</span><span class=nt>&gt;</span>dcterms:creator<span class=nt>&lt;/prov:role&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/prov:wasAttributedTo&gt;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nt>&lt;prov:entity</span> <span class=na>prov:id=</span><span class=s>&#34;lreg:api/external_object/1&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:type</span> <span class=na>xsi:type=</span><span class=s>&#34;xsd:QName&#34;</span><span class=nt>&gt;</span>dcat:Dataset<span class=nt>&lt;/prov:type&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcat:hasVersion&gt;</span>0.20210915.0<span class=nt>&lt;/dcat:hasVersion&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcterms:issued</span> <span class=na>xsi:type=</span><span class=s>&#34;xsd:dateTime&#34;</span><span class=nt>&gt;</span>2021-09-15T15:16:42+00:00<span class=nt>&lt;/dcterms:issued&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;dcterms:title&gt;</span>Static parameters of the model<span class=nt>&lt;/dcterms:title&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;fair:alternate_identifier&gt;</span>
</span></span><span class=line><span class=cl>            SEIRS model parameters - Static parameters of the model
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/fair:alternate_identifier&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;fair:alternate_identifier_type&gt;</span>SEIRS_model_params<span class=nt>&lt;/fair:alternate_identifier_type&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/prov:entity&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;prov:specializationOf&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:specificEntity</span> <span class=na>prov:ref=</span><span class=s>&#34;lreg:api/external_object/1&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;prov:generalEntity</span> <span class=na>prov:ref=</span><span class=s>&#34;lreg:api/data_product/1&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/prov:specializationOf&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>&lt;/prov:document&gt;</span>
</span></span></code></pre></div><h3 id=a-data-product-generated-from-a-code-run>A Data Product Generated from a Code Run
<a class=anchor href=#a-data-product-generated-from-a-code-run>#</a></h3><p>In a complete example a <code>DataProduct</code> entity would have a relationship of
<code>wasGeneratedBy</code> with a <code>CodeRun</code> activity, it would have a relationship of
<code>wasAttributedTo</code> with an <code>Author</code> agent and it would have a relationship of
<code>wasDerivedFrom</code> one or more <code>DataProducts</code> entities.</p><p>In turn the <code>CodeRun</code> would have a relationship of <code>wasStartedBy</code> with an
<code>Author</code>, it would have <code>used</code> a model_cofiguration, submission_script,
<code>CodeRepoRelease</code> and one or more <code>DataProducts</code></p><h3 id=an-example-of-a-provenance-diagram>An example of a provenance diagram
<a class=anchor href=#an-example-of-a-provenance-diagram>#</a></h3><p><img src=/docs/data_registry/prov_example_2.jpeg alt="Provenance diagram example"></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/FAIRDataPipeline/FDP_hugo/commit/2776eba571cdc61f888a6f731aa20be5fae00026 title='Last modified by Ryan J Field | December 4, 2023' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>December 4, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#provenance-report>Provenance Report</a><ul><li><a href=#query-parameters>Query parameters</a></li><li><a href=#prefixes>Prefixes</a></li><li><a href=#examples>Examples</a><ul><li><a href=#basic-example>Basic Example</a></li><li><a href=#an-example-of-a-basic-provenance-diagram>An example of a basic provenance diagram</a></li><li><a href=#a-data-product-generated-from-a-code-run>A Data Product Generated from a Code Run</a></li><li><a href=#an-example-of-a-provenance-diagram>An example of a provenance diagram</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>