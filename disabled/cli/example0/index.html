<!doctype html><html data-scroll=0 lang=en dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="DPAPI examples # Note that this is a living document and the following is subject to change. This page gives simple examples of the user written config.yaml file alongside the working config file generated by FAIR run. Note that the Data Pipeline API will take the working config file as an input.
Empty code run # User written config.yaml # run_metadata: description: An empty code run local_data_registry_url: https://localhost:8000/api/ remote_data_registry_url: https://data."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="DPAPI examples"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://www.fairdatapipeline.org/disabled/cli/example0/"><title>DPAPI examples | FAIRDataPipeline</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.min.78e0f2c3e0da3b6a0d761a0e01656154c8d89cc8742b7e517cbc86441aab779b.css integrity="sha256-eODyw+DaO2oNdhoOAWVhVMjYnMh0K35RfLyGRBqrd5s=" crossorigin=anonymous><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=https://www.fairdatapipeline.org/disabled/cli/example0/index.xml title=FAIRDataPipeline><script defer type=text/javascript src=/lunr.min.js></script><script defer src=/en.fancy-search.min.f5dac4ea9f79b910d7383b9d8d06b69da430cbd51b1c31a57799eab41ba836a1.js integrity="sha256-9drE6p95uRDXODudjQa2naQwy9UbHDGld5nqtBuoNqE="></script><script defer src=/scroll.js></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><div class=custom-header><div class="custom-flex container flex"><div class=custom-left><div class=custom-brand><h2 class=custom-brand-text><a href=/><img src=/logo.jpg alt=Logo><span>FAIRDataPipeline</span></a></h2></div></div><div class=custom-search-container><div class=search-top><div class=search><div class=search-input-wrap><input type=text id=search-input class=search-input tabindex=0 placeholder="Search FAIRDataPipeline" aria-label="Search FAIRDataPipeline" autocomplete=off>
<label for=search-input class=search-label><div class=search-svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div></label></div><div id=search-results class=search-results></div></div></div></div></div></div><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><ul><li><a href=/docs/quick_start/>Quick Start</a><ul></ul></li><li><input type=checkbox id=section-c23a8426ae16a2e4b31af943be5a83ad class=toggle>
<label for=section-c23a8426ae16a2e4b31af943be5a83ad class="flex justify-between"><a href=/docs/cli/>FAIR CLI</a></label><ul><li><a href=/docs/cli/installation/>FAIR CLI Installation</a><ul></ul></li><li><a href=/docs/cli/cli_commands/>FAIR CLI Commands</a><ul></ul></li></ul></li><li><input type=checkbox id=section-5dfc13e48f718e798acbc17acf59aa69 class=toggle>
<label for=section-5dfc13e48f718e798acbc17acf59aa69 class="flex justify-between"><a href=/docs/data_registry/>FAIR Data Registry</a></label><ul><li><input type=checkbox id=section-d1950e6675ca179342643f05b0cd3a1e class=toggle>
<label for=section-d1950e6675ca179342643f05b0cd3a1e class="flex justify-between"><a href=/docs/data_registry/local_registry/>Local Registry</a></label><ul><li><input type=checkbox id=section-2d0d992296ec1e609d2a1b524d0a4b4e class=toggle>
<label for=section-2d0d992296ec1e609d2a1b524d0a4b4e class="flex justify-between"><a href=/docs/data_registry/local_registry/installation/>Installation</a></label><ul><li><a href=/docs/data_registry/local_registry/installation/manual_installation/>Manual Installation</a><ul></ul></li></ul></li></ul></li><li><input type=checkbox id=section-13093dc293a5e4fc7f97da54f629aac7 class=toggle>
<label for=section-13093dc293a5e4fc7f97da54f629aac7 class="flex justify-between"><a href=/docs/data_registry/remote_registry/>Remote Registry</a></label><ul><li><a href=/docs/data_registry/remote_registry/installation/>Installation</a><ul></ul></li><li><a href=https://data.fairdatapipeline.org target=_blank rel=noopener>Example Remote Registry</a><ul></ul></li></ul></li><li><a href=/docs/data_registry/schema/>Schema Description</a></li><li><a href=/docs/data_registry/prov_report/>Provenance Report</a></li><li><a href=/docs/data_registry/ro_crate/>RO Crate Objects</a></li></ul></li><li><input type=checkbox id=section-bf7b3283e3790c00c8caaa140299052b class=toggle>
<label for=section-bf7b3283e3790c00c8caaa140299052b class="flex justify-between"><a href=/docs/api/>Modelling APIs</a></label><ul><li><a href=/docs/api/r/>R</a><ul></ul></li><li><a href=/docs/api/julia/>Julia</a><ul></ul></li><li><a href=/docs/api/python/>Python</a><ul></ul></li><li><input type=checkbox id=section-3752dbeb9567711c46fb17da5ba1dc59 class=toggle>
<label for=section-3752dbeb9567711c46fb17da5ba1dc59 class="flex justify-between"><a href=/docs/api/java/>Java</a></label><ul><li><a href=/docs/api/java/coderun/>Coderun</a></li><li><a href=/docs/api/java/issues/>Issues</a></li><li><a href=/docs/api/java/parameters/>Parameters</a></li><li><a href=/docs/api/java/hdf5/>Hdf5</a></li><li><a href=/docs/api/java/run/>Run</a></li><li><a href=/docs/api/java/debug/>Debug</a></li></ul></li><li><a href=/docs/api/c/>C</a><ul></ul></li><li><a href=/docs/api/cpp/>C++</a><ul></ul></li><li><a href=/docs/api/fortran/>FORTRAN</a><ul></ul></li></ul></li><li><a href=/docs/jargon_buster/>Jargon buster</a><ul></ul></li><li><a href=/docs/repository_status/>Repository Status</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>DPAPI examples</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#dpapi-examples>DPAPI examples</a><ul><li><a href=#empty-code-run>Empty code run</a><ul><li></li></ul></li><li><a href=#write-data-product-hdf5>Write data product (HDF5)</a><ul><li></li></ul></li><li><a href=#read-data-product-hdf5>Read data product (HDF5)</a><ul><li></li></ul></li><li><a href=#write-data-product-csv>Write data product (csv)</a><ul><li></li></ul></li><li><a href=#read-data-product-csv>Read data product (csv)</a><ul><li></li></ul></li><li><a href=#write-data-product-point-estimate>Write data product (point estimate)</a><ul><li></li></ul></li><li><a href=#read-data-product-point-estimate>Read data product (point estimate)</a><ul><li></li></ul></li><li><a href=#write-data-product-distribution>Write data product (distribution)</a><ul><li></li></ul></li><li><a href=#read-data-product-distribution>Read data product (distribution)</a><ul><li></li></ul></li><li><a href=#attach-issue-to-component>Attach issue to component</a><ul><li></li></ul></li><li><a href=#attach-issue-to-whole-data-product>Attach issue to whole data product</a><ul><li></li></ul></li><li><a href=#attach-issue-to-config>Attach issue to config</a><ul><li></li></ul></li><li><a href=#attach-issue-to-submission-script>Attach issue to submission script</a><ul><li></li></ul></li><li><a href=#attach-issue-to-github-repository>Attach issue to GitHub repository</a><ul><li></li></ul></li><li><a href=#attach-issue-to-external-object>Attach issue to external object</a></li><li><a href=#attach-issue-to-code-run>Attach issue to code run</a></li><li><a href=#delete-dataproduct-optionally-if-identical-to-previous-version>Delete DataProduct (optionally) if identical to previous version</a></li><li><a href=#delete-coderun-optionally-if-nothing-happened>Delete CodeRun (optionally) if nothing happened</a></li><li><a href=#coderun-with-aliases-use-block-example>CodeRun with aliases (<code>use</code> block example)</a><ul><li></li></ul></li><li><a href=#coderun-with-read-globbing>CodeRun with read globbing</a><ul><li></li></ul></li><li><a href=#coderun-with-write-globbing>CodeRun with write globbing</a><ul><li></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=dpapi-examples>DPAPI examples
<a class=anchor href=#dpapi-examples>#</a></h1><p><span style=font-size:12pt;color:red>Note that this is a living document and the following is subject to change.</span></p><p>This page gives simple examples of the <strong>user written</strong> <em>config.yaml</em> file alongside the working config file generated by <code>FAIR run</code>. Note that <strong>the Data Pipeline API will take the working config file as an input</strong>.</p><h2 id=empty-code-run>Empty code run
<a class=anchor href=#empty-code-run>#</a></h2><h4 id=user-written-configyaml>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>An empty code run</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f simple_working_examples/empty_script.R ${{CONFIG_DIR}}</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml>#</a></h4><p><code>fair run</code> should create a working <em>config.yaml</em> file, which is read by the Data Pipeline API. In this example, the working <em>config.yaml</em> file is pretty much identical to the original <em>config.yaml</em> file, only <code>${{CONFIG_DIR}}</code> is replaced by the directory in which the working <em>config.yaml</em> file resides.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>An empty code run</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f simple_working_examples/empty_script.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r>Submission script (R)
<a class=anchor href=#submission-script-r>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=write-data-product-hdf5>Write data product (HDF5)
<a class=anchor href=#write-data-product-hdf5>#</a></h2><h4 id=user-written-configyaml-1>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-1>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write an array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f simple_working_examples/write_array.R ${{CONFIG_DIR}}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>test array with simple data</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-1>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-1>#</a></h4><p><code>fdp run</code> should create a working <em>config.yaml</em> file, which is read by the Data Pipeline API. In this example, the working <em>config.yaml</em> file is pretty much identical to the original <em>config.yaml</em> file, only <code>${{CONFIG_DIR}}</code> is replaced by the directory in which the working <em>config.yaml</em> file resides.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write an array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f simple_working_examples/write_array.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>test array with simple data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span></code></pre></div><p>Note that, although <code>use:</code> is reserved for aliasing in the user-written config, for simplicity the CLI will always write <code>version</code> here.</p><p>Note also that by default, the CLI will write <code>public: true</code> to <code>run_metadata:</code>. The user is however free to specify <code>public: false</code> for individual writes.</p><h4 id=submission-script-r-1>Submission script (R)
<a class=anchor href=#submission-script-r-1>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>&lt;-</span> <span class=nf>data.frame</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=m>3</span><span class=o>:</span><span class=m>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>)</span> <span class=o>&lt;-</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>write_array</span><span class=p>(</span><span class=n>array</span> <span class=o>=</span> <span class=nf>as.matrix</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;component1/a/s/d/f/s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>description</span> <span class=o>=</span> <span class=s>&#34;Some description&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>dimension_names</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=n>rowvalue</span> <span class=o>=</span> <span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                   <span class=n>colvalue</span> <span class=o>=</span> <span class=nf>colnames</span><span class=p>(</span><span class=n>df</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>            <span class=n>dimension_values</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=kc>NA</span><span class=p>,</span> <span class=m>10</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>dimension_units</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=kc>NA</span><span class=p>,</span> <span class=s>&#34;km&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>units</span> <span class=o>=</span> <span class=s>&#34;s&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=read-data-product-hdf5>Read data product (HDF5)
<a class=anchor href=#read-data-product-hdf5>#</a></h2><h4 id=user-written-configyaml-2>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-2>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read an array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f simple_working_examples/read_array.R ${{CONFIG_DIR}}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-2>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-2>#</a></h4><p><code>fdp run</code> should create a working <em>config.yaml</em> file, which is read by the Data Pipeline API. In this example, the working <em>config.yaml</em> file is pretty much identical to the original <em>config.yaml</em> file, only <code>${{CONFIG_DIR}}</code> is replaced by the directory in which the working <em>config.yaml</em> file resides.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read an array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f simple_working_examples/read_array.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-2>Submission script (R)
<a class=anchor href=#submission-script-r-2>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>data_product</span> <span class=o>&lt;-</span> <span class=s>&#34;test/array&#34;</span>
</span></span><span class=line><span class=cl><span class=n>component</span> <span class=o>&lt;-</span> <span class=s>&#34;component1/a/s/d/f/s&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dat</span> <span class=o>&lt;-</span> <span class=nf>read_array</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=n>data_product</span> <span class=o>=</span> <span class=n>data_product</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=n>component</span> <span class=o>=</span> <span class=n>component</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=write-data-product-csv>Write data product (csv)
<a class=anchor href=#write-data-product-csv>#</a></h2><h4 id=user-written-configyaml-3>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-3>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/write_csv.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>test csv file with simple data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-3>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-3>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/ </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/write_csv.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>test csv file with simple data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-3>Submission script (R)
<a class=anchor href=#submission-script-r-3>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>&lt;-</span> <span class=nf>data.frame</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=m>3</span><span class=o>:</span><span class=m>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>)</span> <span class=o>&lt;-</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>path</span> <span class=o>&lt;-</span> <span class=nf>link_write</span><span class=p>(</span><span class=n>handle</span><span class=p>,</span> <span class=s>&#34;test/csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>write.csv</span><span class=p>(</span><span class=n>df</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=read-data-product-csv>Read data product (csv)
<a class=anchor href=#read-data-product-csv>#</a></h2><h4 id=user-written-configyaml-4>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-4>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/read_csv.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/csv</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-4>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-4>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/FAIRDataPipeline/FDP_validation/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/read_csv.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-4>Submission script (R)
<a class=anchor href=#submission-script-r-4>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>path</span> <span class=o>&lt;-</span> <span class=nf>link_read</span><span class=p>(</span><span class=n>handle</span><span class=p>,</span> <span class=s>&#34;test/csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>&lt;-</span> <span class=nf>read.csv</span><span class=p>(</span><span class=n>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=write-data-product-point-estimate>Write data product (point estimate)
<a class=anchor href=#write-data-product-point-estimate>#</a></h2><h4 id=user-written-configyaml-5>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-5>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write point estimate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/write_point_estimate.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/estimate/asymptomatic-period</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>asymptomatic period</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-5>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-5>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write point estimate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/write_point_estimate.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/estimate/asymptomatic-period</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>asymptomatic period</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-5>Submission script (R)
<a class=anchor href=#submission-script-r-5>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>write_estimate</span><span class=p>(</span><span class=n>value</span> <span class=o>=</span> <span class=m>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/distribution/asymptomatic-period&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;asymptomatic-period&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=n>description</span> <span class=o>=</span> <span class=s>&#34;asymptomatic period&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=read-data-product-point-estimate>Read data product (point estimate)
<a class=anchor href=#read-data-product-point-estimate>#</a></h2><h4 id=user-written-configyaml-6>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-6>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read point estimate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/read_point_estimate.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/estimate/asymptomatic-period</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-6>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-6>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read point estimate</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/read_point_estimate.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/estimate/asymptomatic-period</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-6>Submission script (R)
<a class=anchor href=#submission-script-r-6>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>read_estimate</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/distribution/asymptomatic-period&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;asymptomatic-period&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=write-data-product-distribution>Write data product (distribution)
<a class=anchor href=#write-data-product-distribution>#</a></h2><h4 id=user-written-configyaml-7>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-7>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write distribution</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/write_distribution.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/distribution/symptom-delay</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Estimate of symptom delay</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-7>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-7>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Write distribution</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/write_distribution.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/distribution/symptom-delay</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Estimate of symptom delay</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-7>Submission script (R)
<a class=anchor href=#submission-script-r-7>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>write_distribution</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/distribution/symptom-delay&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;symptom-delay&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>distribution</span> <span class=o>=</span> <span class=s>&#34;Gaussian&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>parameters</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=n>mean</span> <span class=o>=</span> <span class=m>-16.08</span><span class=p>,</span> <span class=n>SD</span> <span class=o>=</span> <span class=m>30</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                   <span class=n>description</span> <span class=o>=</span> <span class=s>&#34;symptom delay&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=read-data-product-distribution>Read data product (distribution)
<a class=anchor href=#read-data-product-distribution>#</a></h2><h4 id=user-written-configyaml-8>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-8>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read distribution</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/read_distribution.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/distribution/symptom-delay</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-8>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-8>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Read distribution</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/read_distribution.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/FAIRDataPipeline/FDP_validation</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/distribution/symptom-delay</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-8>Submission script (R)
<a class=anchor href=#submission-script-r-8>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Open the connection to the local registry with a given config file</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>read_distribution</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/distribution/symptom-delay&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                  <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;symptom-delay&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=attach-issue-to-component>Attach issue to component
<a class=anchor href=#attach-issue-to-component>#</a></h2><h4 id=user-written-configyaml-9>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-9>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array/issues/component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>a test array</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-9>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-9>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>e3c0ebdf5ae079bd72f601ec5eefdf998c4fc8ec</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array/issues/component</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>a test array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-9>Submission script (R)
<a class=anchor href=#submission-script-r-9>#</a></h4><p>In R, we can attach issues to components in different ways. If there&rsquo;s a more elegant way to do this, please tell me!</p><p>Attach an issue on the fly by referencing an index in the handle:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>&lt;-</span> <span class=nf>data.frame</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=m>3</span><span class=o>:</span><span class=m>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>)</span> <span class=o>&lt;-</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>component_id</span> <span class=o>&lt;-</span> <span class=nf>write_array</span><span class=p>(</span><span class=n>array</span> <span class=o>=</span> <span class=nf>as.matrix</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array/issues/component&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;component1/a/s/d/f/s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>description</span> <span class=o>=</span> <span class=s>&#34;Some description&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                            <span class=n>dimension_names</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=n>rowvalue</span> <span class=o>=</span> <span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                                   <span class=n>colvalue</span> <span class=o>=</span> <span class=nf>colnames</span><span class=p>(</span><span class=n>df</span><span class=p>)),</span>
</span></span><span class=line><span class=cl>                            <span class=n>dimension_values</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=kc>NA</span><span class=p>,</span> <span class=m>10</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                            <span class=n>dimension_units</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=kc>NA</span><span class=p>,</span> <span class=s>&#34;km&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                            <span class=n>units</span> <span class=o>=</span> <span class=s>&#34;s&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>issue</span> <span class=o>&lt;-</span> <span class=s>&#34;some issue&#34;</span>
</span></span><span class=line><span class=cl><span class=n>severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>index</span> <span class=o>=</span> <span class=n>component_id</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><p>Attaching an issue to a data product that already exists in the data registry by referencing it explicitly:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>issue</span> <span class=o>&lt;-</span> <span class=s>&#34;some issue&#34;</span>
</span></span><span class=line><span class=cl><span class=n>severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array/issues/component&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;component1/a/s/d/f/s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>version</span> <span class=o>=</span> <span class=s>&#34;0.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>namespace</span> <span class=o>=</span> <span class=s>&#34;username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><p>Attaching an issue to multiple components at the same time:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>index</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=n>component_id1</span><span class=p>,</span> <span class=n>component_id2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>)</span>
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array/issues/component&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>component</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;component1/a/s/d/f/s&#34;</span><span class=p>,</span> <span class=s>&#34;component2/a/s/d/f/s&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>version</span> <span class=o>=</span> <span class=s>&#34;0.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>namespace</span> <span class=o>=</span> <span class=s>&#34;username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=attach-issue-to-whole-data-product>Attach issue to whole data product
<a class=anchor href=#attach-issue-to-whole-data-product>#</a></h2><h4 id=user-written-configyaml-10>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-10>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;test/array/issues/whole&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>a test array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-10>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-10>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>40725b40252fd55ba355f7ed66f5a42387f1674f</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/array/issues/whole</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>a test array</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-10>Submission script (R)
<a class=anchor href=#submission-script-r-10>#</a></h4><p>In R, we can attach issues to data products in different ways. If there&rsquo;s a more elegant way to do this, please tell me!</p><p>Attach an issue on the fly by referencing an index in the handle:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>&lt;-</span> <span class=nf>data.frame</span><span class=p>(</span><span class=n>a</span> <span class=o>=</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=m>3</span><span class=o>:</span><span class=m>4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>)</span> <span class=o>&lt;-</span> <span class=m>1</span><span class=o>:</span><span class=m>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>index</span> <span class=o>&lt;-</span> <span class=nf>write_array</span><span class=p>(</span><span class=n>array</span> <span class=o>=</span> <span class=nf>as.matrix</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                     <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array/issues/whole&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;component1/a/s/d/f/s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>description</span> <span class=o>=</span> <span class=s>&#34;Some description&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                     <span class=n>dimension_names</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=n>rowvalue</span> <span class=o>=</span> <span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                            <span class=n>colvalue</span> <span class=o>=</span> <span class=nf>colnames</span><span class=p>(</span><span class=n>df</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>write_array</span><span class=p>(</span><span class=n>array</span> <span class=o>=</span> <span class=nf>as.matrix</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array/issues/whole&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>component</span> <span class=o>=</span> <span class=s>&#34;component2/a/s/d/f/s&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>description</span> <span class=o>=</span> <span class=s>&#34;Some description&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>dimension_names</span> <span class=o>=</span> <span class=nf>list</span><span class=p>(</span><span class=n>rowvalue</span> <span class=o>=</span> <span class=nf>rownames</span><span class=p>(</span><span class=n>df</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                                   <span class=n>colvalue</span> <span class=o>=</span> <span class=nf>colnames</span><span class=p>(</span><span class=n>df</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>issue</span> <span class=o>&lt;-</span> <span class=s>&#34;some issue&#34;</span>
</span></span><span class=line><span class=cl><span class=n>severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>index</span> <span class=o>=</span> <span class=n>index</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>whole_object</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><p>Attaching an issue to a data product that already exists in the data registry by referencing it explicitly:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>issue</span> <span class=o>&lt;-</span> <span class=s>&#34;some issue&#34;</span>
</span></span><span class=line><span class=cl><span class=n>severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data_product</span> <span class=o>=</span> <span class=s>&#34;test/array/issues/whole&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>version</span> <span class=o>=</span> <span class=s>&#34;0.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>namespace</span> <span class=o>=</span> <span class=s>&#34;username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><p>Attaching an issue to multiple data products at the same time:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>index</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=n>index1</span><span class=p>,</span> <span class=n>index2</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>whole_object</span> <span class=o>=</span> <span class=kc>TRUE</span><span class=p>)</span>
</span></span></code></pre></div><p>or</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>raise_issue</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>data_product</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;test/array/issues/whole&#34;</span><span class=p>,</span> <span class=s>&#34;test/array/issues/whole/2&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>version</span> <span class=o>=</span> <span class=nf>c</span><span class=p>(</span><span class=s>&#34;0.1.0&#34;</span><span class=p>,</span> <span class=s>&#34;0.1.0&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=n>namespace</span> <span class=o>=</span> <span class=s>&#34;username&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>issue</span> <span class=o>=</span> <span class=n>issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=n>severity</span> <span class=o>=</span> <span class=n>severity</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=attach-issue-to-config>Attach issue to config
<a class=anchor href=#attach-issue-to-config>#</a></h2><h4 id=user-written-configyaml-11>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-11>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span></code></pre></div><h4 id=working-configyaml-11>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-11>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>0d98e732b77e62a6cd390c6aec655f260f5f9b33</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-11>Submission script (R)
<a class=anchor href=#submission-script-r-11>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>config_issue</span> <span class=o>&lt;-</span> <span class=s>&#34;issue with config&#34;</span>
</span></span><span class=line><span class=cl><span class=n>config_severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue_config</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>issue</span> <span class=o>=</span> <span class=n>config_issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>severity</span> <span class=o>=</span> <span class=n>config_severity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=attach-issue-to-submission-script>Attach issue to submission script
<a class=anchor href=#attach-issue-to-submission-script>#</a></h2><h4 id=user-written-configyaml-12>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-12>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span></code></pre></div><h4 id=working-configyaml-12>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-12>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>358f64c4044f3b3f761865ee8e9f4375cf41d155</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-12>Submission script (R)
<a class=anchor href=#submission-script-r-12>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>script_issue</span> <span class=o>&lt;-</span> <span class=s>&#34;issue with script&#34;</span>
</span></span><span class=line><span class=cl><span class=n>script_severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue_script</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>issue</span> <span class=o>=</span> <span class=n>script_issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                   <span class=n>severity</span> <span class=o>=</span> <span class=n>script_severity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=attach-issue-to-github-repository>Attach issue to GitHub repository
<a class=anchor href=#attach-issue-to-github-repository>#</a></h2><h4 id=user-written-configyaml-13>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-13>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span></code></pre></div><h4 id=working-configyaml-13>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-13>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/attach_issue.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>6b23ec822bfd7ea5f419c70ce18fb73b59c90754</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span></code></pre></div><h4 id=submission-script-r-13>Submission script (R)
<a class=anchor href=#submission-script-r-13>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-R data-lang=R><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=n>rDataPipeline</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Initialise Code Run</span>
</span></span><span class=line><span class=cl><span class=n>config</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;config.yaml&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>script</span> <span class=o>&lt;-</span> <span class=nf>file.path</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;FDP_CONFIG_DIR&#34;</span><span class=p>),</span> <span class=s>&#34;script.sh&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>handle</span> <span class=o>&lt;-</span> <span class=nf>initialise</span><span class=p>(</span><span class=n>config</span><span class=p>,</span> <span class=n>script</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>repo_issue</span> <span class=o>&lt;-</span> <span class=s>&#34;issue with repo&#34;</span>
</span></span><span class=line><span class=cl><span class=n>repo_severity</span> <span class=o>&lt;-</span> <span class=m>7</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>raise_issue_repo</span><span class=p>(</span><span class=n>handle</span> <span class=o>=</span> <span class=n>handle</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=n>issue</span> <span class=o>=</span> <span class=n>repo_issue</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                 <span class=n>severity</span> <span class=o>=</span> <span class=n>repo_severity</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>finalise</span><span class=p>(</span><span class=n>handle</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=attach-issue-to-external-object>Attach issue to external object
<a class=anchor href=#attach-issue-to-external-object>#</a></h2><p>This is not something we want to do.</p><h2 id=attach-issue-to-code-run>Attach issue to code run
<a class=anchor href=#attach-issue-to-code-run>#</a></h2><p>This might be something we want to do in the future, but not now.</p><h2 id=delete-dataproduct-optionally-if-identical-to-previous-version>Delete DataProduct (optionally) if identical to previous version
<a class=anchor href=#delete-dataproduct-optionally-if-identical-to-previous-version>#</a></h2><h2 id=delete-coderun-optionally-if-nothing-happened>Delete CodeRun (optionally) if nothing happened
<a class=anchor href=#delete-coderun-optionally-if-nothing-happened>#</a></h2><p><em>That is, if no output was created and no issue was raised</em></p><h2 id=coderun-with-aliases-use-block-example>CodeRun with aliases (<code>use</code> block example)
<a class=anchor href=#coderun-with-aliases-use-block-example>#</a></h2><h4 id=user-written-configyaml-14>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-14>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A test model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>SCRC</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f inst/SCRC/scotgov_management/submission_script.R ${{CONFIG_DIR}}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>test/data/alias</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>johnsmith</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>scotland/human/population</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/outbreak-timeseries</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>data product description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>scotland/human/outbreak-timeseries</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/outbreak/simulation_run</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>another data product description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/outbreak/simulation_run-${{RUN_ID}}</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-14>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-14>#</a></h4><p><code>fair run</code> should create a working <em>config.yaml</em> file, which is read by the Data Pipeline API. In this example, the working <em>config.yaml</em> file is pretty much identical to the original <em>config.yaml</em> file, only <code>${{CONFIG_DIR}}</code> is replaced by the directory in which the working <em>config.yaml</em> file resides.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A test model</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>soniamitchell</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/SoniaM/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>/Users/Soniam/Desktop/git/SCRC/SCRCdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>221bfe8b52bbfb3b2dbdc23037b7dd94b49aaa70</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/ScottishCovidResponse/SCRCdata</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=l>|- </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>R -f inst/SCRC/scotgov_management/submission_script.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/population</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>scotland/human/population</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class=l>johnsmith</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/outbreak-timeseries</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>data product description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>scotland/human/outbreak-timeseries</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/outbreak/simulation_run</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>another data product description</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>human/outbreak/simulation_run-${{RUN_ID}}    </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.1.0</span><span class=w>
</span></span></span></code></pre></div><h2 id=coderun-with-read-globbing>CodeRun with read globbing
<a class=anchor href=#coderun-with-read-globbing>#</a></h2><p>This example makes use of globbing in the <code>read:</code> block.</p><p>First we need to populate your local registry with something to read:</p><h4 id=user-written-configyaml-15>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-15>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/input_globbing.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/thing/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-15>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-15>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/input_globbing.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>yes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>064e900b691e80058357a344f02cf73de0166fab</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/thing/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><p>Now that our local registry is populated, we can try globbing:</p><h4 id=user-written-configyaml-16>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-16>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/input_globbing.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/*</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-16>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-16>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/input_globbing.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>b9e2187b3796f06ca33f92c3a82863215917ed0e</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/thing/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/1d06c1840618f1cd0ff29177b34fa68df939a9a8/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span></code></pre></div><h2 id=coderun-with-write-globbing>CodeRun with write globbing
<a class=anchor href=#coderun-with-write-globbing>#</a></h2><p>This example makes use of globbing in the <code>write:</code> block.</p><p>First we need to populate your local registry with some data:</p><h4 id=user-written-configyaml-17>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-17>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/output_globbing.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/thing/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-17>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-17>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/output_globbing.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>yes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>2a8688677321b99e3a2545ce020992d136334b71</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/thing/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>0.0.1</span><span class=w>
</span></span></span></code></pre></div><p>Now that our local registry is populated, we can try globbing:</p><h4 id=user-written-configyaml-18>User written <em>config.yaml</em>
<a class=anchor href=#user-written-configyaml-18>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/output_globbing.R ${{CONFIG_DIR}}</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=l>${{MAJOR}}</span><span class=w>
</span></span></span></code></pre></div><h4 id=working-configyaml-18>Working <em>config.yaml</em>
<a class=anchor href=#working-configyaml-18>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>run_metadata</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Register a file in the pipeline</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>http://localhost:8000/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_data_registry_url</span><span class=p>:</span><span class=w> </span><span class=l>https://data.fairdatapipeline.org/api/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_input_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>default_output_namespace</span><span class=p>:</span><span class=w> </span><span class=l>username</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>write_data_store</span><span class=p>:</span><span class=w> </span><span class=l>/Users/username/datastore/</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>local_repo</span><span class=p>:</span><span class=w> </span><span class=l>local_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>script</span><span class=p>:</span><span class=w> </span><span class=p>|-</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>    R -f simple_working_examples/output_globbing.R /Users/SoniaM/datastore/coderun/20210511-231444/</span><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>public</span><span class=p>:</span><span class=w> </span><span class=kc>yes</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>latest_commit</span><span class=p>:</span><span class=w> </span><span class=l>f95815976cd4d93c062f94a48525fcec88b6ef34</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>remote_repo</span><span class=p>:</span><span class=w> </span><span class=l>https://github.com/fake_org/fake_repo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>read</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>write</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/thing/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span>- <span class=nt>data_product</span><span class=p>:</span><span class=w> </span><span class=l>real/data/e8d7af00c8f8e24c2790e2a32241bc1bfc8cf011/1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A csv file</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>file_type</span><span class=p>:</span><span class=w> </span><span class=l>csv</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>use</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>```</span><span class=w>
</span></span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/FAIRDataPipeline/FDP_hugo/commit/8b4fb21e3c528ff5a90b3fd0878f056f14350388 title='Last modified by Ryan J Field | November 1, 2023' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 1, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/FAIRDataPipeline/FDP_hugo/tree/master/content/content/disabled/cli/example0/_index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#dpapi-examples>DPAPI examples</a><ul><li><a href=#empty-code-run>Empty code run</a><ul><li></li></ul></li><li><a href=#write-data-product-hdf5>Write data product (HDF5)</a><ul><li></li></ul></li><li><a href=#read-data-product-hdf5>Read data product (HDF5)</a><ul><li></li></ul></li><li><a href=#write-data-product-csv>Write data product (csv)</a><ul><li></li></ul></li><li><a href=#read-data-product-csv>Read data product (csv)</a><ul><li></li></ul></li><li><a href=#write-data-product-point-estimate>Write data product (point estimate)</a><ul><li></li></ul></li><li><a href=#read-data-product-point-estimate>Read data product (point estimate)</a><ul><li></li></ul></li><li><a href=#write-data-product-distribution>Write data product (distribution)</a><ul><li></li></ul></li><li><a href=#read-data-product-distribution>Read data product (distribution)</a><ul><li></li></ul></li><li><a href=#attach-issue-to-component>Attach issue to component</a><ul><li></li></ul></li><li><a href=#attach-issue-to-whole-data-product>Attach issue to whole data product</a><ul><li></li></ul></li><li><a href=#attach-issue-to-config>Attach issue to config</a><ul><li></li></ul></li><li><a href=#attach-issue-to-submission-script>Attach issue to submission script</a><ul><li></li></ul></li><li><a href=#attach-issue-to-github-repository>Attach issue to GitHub repository</a><ul><li></li></ul></li><li><a href=#attach-issue-to-external-object>Attach issue to external object</a></li><li><a href=#attach-issue-to-code-run>Attach issue to code run</a></li><li><a href=#delete-dataproduct-optionally-if-identical-to-previous-version>Delete DataProduct (optionally) if identical to previous version</a></li><li><a href=#delete-coderun-optionally-if-nothing-happened>Delete CodeRun (optionally) if nothing happened</a></li><li><a href=#coderun-with-aliases-use-block-example>CodeRun with aliases (<code>use</code> block example)</a><ul><li></li></ul></li><li><a href=#coderun-with-read-globbing>CodeRun with read globbing</a><ul><li></li></ul></li><li><a href=#coderun-with-write-globbing>CodeRun with write globbing</a><ul><li></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>